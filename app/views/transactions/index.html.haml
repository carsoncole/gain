%h1 Transactions

%table.table
  %thead
    %tr
      %th Date
      %th
      %th Security
      %th Price
      %th Quantity
      %th Amount
      %th Balance

      %th

  %tbody
    - @transactions.each do |transaction|
      %tr
        %td= transaction.date
        %td= transaction.transaction_type
        %td= transaction.security.name
        %td= number_to_currency(transaction.price)
        %td= number_with_delimiter(transaction.quantity, precision: 2)
        %td= number_to_currency(transaction.amount)
        %td= number_with_delimiter(transaction.security_balance, precision: 2)
        %td.text-end
          = link_to account_transaction_path(@account, transaction) do
            %i.bi.bi-eye
          = link_to edit_account_transaction_path(@account, transaction) do
            %i.bi.bi-pencil
          = link_to account_transaction_path(@account, transaction), method: :delete, data: { "turbo-method": :delete, "turbo-confirm": 'Are you sure?' } do
            %i.bi.bi-trash


= pagy_bootstrap_nav(@pagy).html_safe if @pagy.pages > 1
%br

= link_to new_account_transaction_path(@account), id: "new-transaction-link" do
  %i.bi.bi-plus-lg
